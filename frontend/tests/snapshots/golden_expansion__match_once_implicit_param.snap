---
source: frontend/tests/golden_expansion.rs
expression: output
---
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("inductive"), span: Span { start: 1, end: 10, line: 1, col: 1 } }, SurfaceTerm { kind: Var("copy"), span: Span { start: 11, end: 15, line: 1, col: 11 } }, true), span: Span { start: 0, end: 63, line: 1, col: 0 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 16, end: 19, line: 1, col: 16 } }, true), span: Span { start: 0, end: 63, line: 1, col: 0 } }, SurfaceTerm { kind: Var("Type"), span: Span { start: 20, end: 24, line: 1, col: 20 } }, true), span: Span { start: 0, end: 63, line: 1, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("zero"), span: Span { start: 28, end: 32, line: 2, col: 3 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 33, end: 36, line: 2, col: 8 } }, true), span: Span { start: 27, end: 37, line: 2, col: 2 } }, true), span: Span { start: 0, end: 63, line: 1, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("succ"), span: Span { start: 41, end: 45, line: 3, col: 3 } }, SurfaceTerm { kind: Pi("n_g0", Default, None, SurfaceTerm { kind: Var("Nat"), span: Span { start: 52, end: 55, line: 3, col: 14 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 56, end: 59, line: 3, col: 18 } }), span: Span { start: 46, end: 60, line: 3, col: 8 } }, true), span: Span { start: 40, end: 61, line: 3, col: 2 } }, true), span: Span { start: 0, end: 63, line: 1, col: 0 } }
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("inductive"), span: Span { start: 66, end: 75, line: 6, col: 1 } }, SurfaceTerm { kind: Var("Option"), span: Span { start: 76, end: 82, line: 6, col: 11 } }, true), span: Span { start: 65, end: 178, line: 6, col: 0 } }, SurfaceTerm { kind: Pi("T_g1", Default, None, SurfaceTerm { kind: Var("Type"), span: Span { start: 89, end: 93, line: 6, col: 24 } }, SurfaceTerm { kind: Var("Type"), span: Span { start: 94, end: 98, line: 6, col: 29 } }), span: Span { start: 83, end: 99, line: 6, col: 18 } }, true), span: Span { start: 65, end: 178, line: 6, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("none"), span: Span { start: 103, end: 107, line: 7, col: 3 } }, SurfaceTerm { kind: Pi("T_g2", Implicit, None, SurfaceTerm { kind: Var("Type"), span: Span { start: 115, end: 119, line: 7, col: 15 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("Option"), span: Span { start: 122, end: 128, line: 7, col: 22 } }, SurfaceTerm { kind: Var("T_g2"), span: Span { start: 129, end: 130, line: 7, col: 29 } }, true), span: Span { start: 121, end: 131, line: 7, col: 21 } }), span: Span { start: 108, end: 132, line: 7, col: 8 } }, true), span: Span { start: 102, end: 133, line: 7, col: 2 } }, true), span: Span { start: 65, end: 178, line: 6, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("some"), span: Span { start: 137, end: 141, line: 8, col: 3 } }, SurfaceTerm { kind: Pi("T_g3", Implicit, None, SurfaceTerm { kind: Var("Type"), span: Span { start: 149, end: 153, line: 8, col: 15 } }, SurfaceTerm { kind: Pi("x_g4", Default, None, SurfaceTerm { kind: Var("T_g3"), span: Span { start: 161, end: 162, line: 8, col: 27 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("Option"), span: Span { start: 164, end: 170, line: 8, col: 30 } }, SurfaceTerm { kind: Var("T_g3"), span: Span { start: 171, end: 172, line: 8, col: 37 } }, true), span: Span { start: 163, end: 173, line: 8, col: 29 } }), span: Span { start: 155, end: 174, line: 8, col: 21 } }), span: Span { start: 142, end: 175, line: 8, col: 8 } }, true), span: Span { start: 136, end: 176, line: 8, col: 2 } }, true), span: Span { start: 65, end: 178, line: 6, col: 0 } }
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("def"), span: Span { start: 181, end: 184, line: 11, col: 1 } }, SurfaceTerm { kind: Var("choose"), span: Span { start: 185, end: 191, line: 11, col: 5 } }, true), span: Span { start: 180, end: 468, line: 11, col: 0 } }, SurfaceTerm { kind: Pi("T_g5", Implicit, Some(FnOnce), SurfaceTerm { kind: Var("Type"), span: Span { start: 207, end: 211, line: 11, col: 27 } }, SurfaceTerm { kind: Pi("opt_g6", Default, Some(FnOnce), SurfaceTerm { kind: App(SurfaceTerm { kind: Var("Option"), span: Span { start: 230, end: 236, line: 11, col: 50 } }, SurfaceTerm { kind: Var("T_g5"), span: Span { start: 237, end: 238, line: 11, col: 57 } }, true), span: Span { start: 229, end: 239, line: 11, col: 49 } }, SurfaceTerm { kind: Pi("alt_g7", Default, Some(FnOnce), SurfaceTerm { kind: Var("T_g5"), span: Span { start: 256, end: 257, line: 11, col: 76 } }, SurfaceTerm { kind: Var("T_g5"), span: Span { start: 258, end: 259, line: 11, col: 78 } }), span: Span { start: 240, end: 260, line: 11, col: 60 } }), span: Span { start: 213, end: 261, line: 11, col: 33 } }), span: Span { start: 192, end: 262, line: 11, col: 12 } }, true), span: Span { start: 180, end: 468, line: 11, col: 0 } }, SurfaceTerm { kind: Lam("T_g8", Implicit, Some(FnOnce), SurfaceTerm { kind: Var("Type"), span: Span { start: 282, end: 286, line: 12, col: 19 } }, SurfaceTerm { kind: Lam("opt_g9", Default, Some(FnOnce), SurfaceTerm { kind: App(SurfaceTerm { kind: Var("Option"), span: Span { start: 309, end: 315, line: 13, col: 22 } }, SurfaceTerm { kind: Var("T_g8"), span: Span { start: 316, end: 317, line: 13, col: 29 } }, true), span: Span { start: 308, end: 318, line: 13, col: 21 } }, SurfaceTerm { kind: Match(SurfaceTerm { kind: Var("opt_g9"), span: Span { start: 332, end: 335, line: 14, col: 13 } }, SurfaceTerm { kind: Pi("alt_g10", Default, Some(FnOnce), SurfaceTerm { kind: Var("T_g8"), span: Span { start: 352, end: 353, line: 14, col: 33 } }, SurfaceTerm { kind: Var("T_g8"), span: Span { start: 354, end: 355, line: 14, col: 35 } }), span: Span { start: 336, end: 356, line: 14, col: 17 } }, [("none", [], SurfaceTerm { kind: Lam("alt_g11", Default, Some(FnOnce), SurfaceTerm { kind: Var("T_g8"), span: Span { start: 395, end: 396, line: 15, col: 38 } }, SurfaceTerm { kind: Var("alt_g11"), span: Span { start: 397, end: 400, line: 15, col: 40 } }), span: Span { start: 378, end: 401, line: 15, col: 21 } }), ("some", ["x_g12"], SurfaceTerm { kind: Lam("alt_g13", Default, Some(FnOnce), SurfaceTerm { kind: Var("T_g8"), span: Span { start: 443, end: 444, line: 16, col: 40 } }, SurfaceTerm { kind: Var("x_g12"), span: Span { start: 445, end: 446, line: 16, col: 42 } }), span: Span { start: 426, end: 447, line: 16, col: 23 } })]), span: Span { start: 325, end: 456, line: 14, col: 6 } }), span: Span { start: 291, end: 462, line: 13, col: 4 } }), span: Span { start: 265, end: 466, line: 12, col: 2 } }, true), span: Span { start: 180, end: 468, line: 11, col: 0 } }
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("def"), span: Span { start: 471, end: 474, line: 22, col: 1 } }, SurfaceTerm { kind: Var("one"), span: Span { start: 475, end: 478, line: 22, col: 5 } }, true), span: Span { start: 470, end: 495, line: 22, col: 0 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 479, end: 482, line: 22, col: 9 } }, true), span: Span { start: 470, end: 495, line: 22, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("succ"), span: Span { start: 484, end: 488, line: 22, col: 14 } }, SurfaceTerm { kind: Var("zero"), span: Span { start: 489, end: 493, line: 22, col: 19 } }, true), span: Span { start: 483, end: 494, line: 22, col: 13 } }, true), span: Span { start: 470, end: 495, line: 22, col: 0 } }
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("def"), span: Span { start: 497, end: 500, line: 23, col: 1 } }, SurfaceTerm { kind: Var("chosen"), span: Span { start: 501, end: 507, line: 23, col: 5 } }, true), span: Span { start: 496, end: 546, line: 23, col: 0 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 508, end: 511, line: 23, col: 12 } }, true), span: Span { start: 496, end: 546, line: 23, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("choose"), span: Span { start: 514, end: 520, line: 23, col: 18 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 522, end: 525, line: 23, col: 26 } }, false), span: Span { start: 513, end: 540, line: 23, col: 17 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var("none"), span: Span { start: 528, end: 532, line: 23, col: 32 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 534, end: 537, line: 23, col: 38 } }, false), span: Span { start: 527, end: 539, line: 23, col: 31 } }, true), span: Span { start: 513, end: 540, line: 23, col: 17 } }, SurfaceTerm { kind: Var("one"), span: Span { start: 541, end: 544, line: 23, col: 45 } }, true), span: Span { start: 512, end: 545, line: 23, col: 16 } }, true), span: Span { start: 496, end: 546, line: 23, col: 0 } }
SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("def"), span: Span { start: 548, end: 551, line: 24, col: 1 } }, SurfaceTerm { kind: Var("chosen2"), span: Span { start: 552, end: 559, line: 24, col: 5 } }, true), span: Span { start: 547, end: 603, line: 24, col: 0 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 560, end: 563, line: 24, col: 13 } }, true), span: Span { start: 547, end: 603, line: 24, col: 0 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("choose"), span: Span { start: 566, end: 572, line: 24, col: 19 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 574, end: 577, line: 24, col: 27 } }, false), span: Span { start: 565, end: 596, line: 24, col: 18 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var("some"), span: Span { start: 580, end: 584, line: 24, col: 33 } }, SurfaceTerm { kind: Var("Nat"), span: Span { start: 586, end: 589, line: 24, col: 39 } }, false), span: Span { start: 579, end: 595, line: 24, col: 32 } }, SurfaceTerm { kind: Var("one"), span: Span { start: 591, end: 594, line: 24, col: 44 } }, true), span: Span { start: 579, end: 595, line: 24, col: 32 } }, true), span: Span { start: 565, end: 596, line: 24, col: 18 } }, SurfaceTerm { kind: Var("zero"), span: Span { start: 597, end: 601, line: 24, col: 50 } }, true), span: Span { start: 564, end: 602, line: 24, col: 17 } }, true), span: Span { start: 547, end: 603, line: 24, col: 0 } }
