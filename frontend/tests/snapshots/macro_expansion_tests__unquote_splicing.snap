---
source: frontend/tests/macro_expansion_tests.rs
expression: expand(input)
---
"SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"def\"), span: Span { start: 6, end: 9, line: 2, col: 5 } }, SurfaceTerm { kind: Var(\"l\"), span: Span { start: 10, end: 11, line: 2, col: 9 } }, true), span: Span { start: 5, end: 45, line: 2, col: 4 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"List\"), span: Span { start: 13, end: 17, line: 2, col: 12 } }, SurfaceTerm { kind: Var(\"Nat\"), span: Span { start: 18, end: 21, line: 2, col: 17 } }, true), span: Span { start: 12, end: 22, line: 2, col: 11 } }, true), span: Span { start: 5, end: 45, line: 2, col: 4 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"cons\"), span: Span { start: 24, end: 28, line: 2, col: 23 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 29, end: 30, line: 2, col: 28 } }, SurfaceTerm { kind: Ctor(\"Nat\", 0), span: Span { start: 29, end: 30, line: 2, col: 28 } }, true), span: Span { start: 29, end: 30, line: 2, col: 28 } }, true), span: Span { start: 23, end: 44, line: 2, col: 22 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"cons\"), span: Span { start: 32, end: 36, line: 2, col: 31 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 37, end: 38, line: 2, col: 36 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 37, end: 38, line: 2, col: 36 } }, SurfaceTerm { kind: Ctor(\"Nat\", 0), span: Span { start: 37, end: 38, line: 2, col: 36 } }, true), span: Span { start: 37, end: 38, line: 2, col: 36 } }, true), span: Span { start: 37, end: 38, line: 2, col: 36 } }, true), span: Span { start: 31, end: 43, line: 2, col: 30 } }, SurfaceTerm { kind: Var(\"nil\"), span: Span { start: 39, end: 42, line: 2, col: 38 } }, true), span: Span { start: 31, end: 43, line: 2, col: 30 } }, true), span: Span { start: 23, end: 44, line: 2, col: 22 } }, true), span: Span { start: 5, end: 45, line: 2, col: 4 } }\nSurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"cons\"), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: Ctor(\"Nat\", 0), span: Span { start: 63, end: 64, line: 3, col: 17 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"append\"), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: Var(\"l\"), span: Span { start: 83, end: 84, line: 3, col: 37 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: App(SurfaceTerm { kind: Var(\"cons\"), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 86, end: 87, line: 3, col: 40 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 86, end: 87, line: 3, col: 40 } }, SurfaceTerm { kind: App(SurfaceTerm { kind: Ctor(\"Nat\", 1), span: Span { start: 86, end: 87, line: 3, col: 40 } }, SurfaceTerm { kind: Ctor(\"Nat\", 0), span: Span { start: 86, end: 87, line: 3, col: 40 } }, true), span: Span { start: 86, end: 87, line: 3, col: 40 } }, true), span: Span { start: 86, end: 87, line: 3, col: 40 } }, true), span: Span { start: 86, end: 87, line: 3, col: 40 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }, SurfaceTerm { kind: Var(\"nil\"), span: Span { start: 62, end: 88, line: 3, col: 16 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }, true), span: Span { start: 62, end: 88, line: 3, col: 16 } }\n"
