;;! tag: overlap-subset
;;! expect_exit: 0
;;! expect_result_kind: nat
;;! expect_result: 2

(inductive copy MaybeNat (sort 1)
  (ctor maybe_none MaybeNat)
  (ctor maybe_some (pi n Nat MaybeNat)))

(def unwrap_twice (pi m MaybeNat Nat)
  (lam m MaybeNat
    (match m Nat
      (case (maybe_none) zero)
      (case (maybe_some x)
        (match x Nat
          (case (zero) zero)
          (case (succ y) (succ y)))))))

(def entry Nat
  (unwrap_twice (maybe_some (succ (succ zero)))))
